# Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Store_Project

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ docker/

```
docker/
‚îú‚îÄ‚îÄ Dockerfile           # –û–±—Ä–∞–∑ PHP-FPM –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ nginx.conf          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
‚îú‚îÄ‚îÄ php.ini             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PHP
‚îú‚îÄ‚îÄ docker-compose.yml  # Compose –¥–ª—è standalone –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ .dockerignore       # –§–∞–π–ª—ã –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –∏–∑ –æ–±—Ä–∞–∑–∞
‚îú‚îÄ‚îÄ .env.example        # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ –≥–ª–∞–≤–Ω—ã–π docker-compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ü—Ä–æ–µ–∫—Ç —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–π `docker-compose.yml` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
cd /home/project
docker-compose up -d --build
```

–î–æ—Å—Ç—É–ø: `http://localhost:8080/store-project/`

### –í–∞—Ä–∏–∞–Ω—Ç 2: Standalone –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å Store_Project –æ—Ç–¥–µ–ª—å–Ω–æ:

```bash
cd Store_Project/docker
docker-compose up -d --build
```

–î–æ—Å—Ç—É–ø: `http://localhost:8081/`

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Dockerfile
- –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑: `php:8.3-fpm-alpine`
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è: pdo, pdo_mysql, mysqli, opcache
- –†–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞: `/var/www/html`

### nginx.conf
- –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PHP-FPM
- –í–∫–ª—é—á–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (X-Frame-Options, etc.)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (30 –¥–Ω–µ–π)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –∏ –¥–æ—Å—Ç—É–ø–∞

### php.ini
- Memory limit: 256M
- Max execution time: 300s
- Upload max filesize: 100M
- –û—Ç–∫–ª—é—á–µ–Ω—ã –æ–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (allow_url_fopen, allow_url_include)

## üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ:

```bash
cp docker/.env.example .env
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- PHP —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- –í—ã–∫–ª—é—á–µ–Ω display_errors –≤ production —Ä–µ–∂–∏–º–µ
- –û—Ç–∫–ª—é—á–µ–Ω—ã –æ–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ php.ini
- Nginx –∫–æ–Ω—Ñ–∏–≥ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º —Ñ–∞–π–ª–∞–º (.env, .git)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ https cookie —Ñ–ª–∞–≥–æ–≤

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö:
- **Nginx:** `/var/log/nginx/store-project-access.log`
- **PHP:** `/var/log/php-errors.log`

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤:
```bash
docker logs store-project-nginx
docker logs store-project-php-fpm
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### CSS/JS –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
```bash
docker-compose restart nginx
# –ò–ª–∏ –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Delete)
```

### PHP –æ—à–∏–±–∫–∏ –Ω–µ –≤–∏–¥–Ω—ã
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `APP_DEBUG=true` –≤ `.env` –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker-compose restart php-fpm
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
```bash
docker exec store-project-php-fpm chown -R www-data:www-data /var/www/html
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç vanilla HTML/CSS/JS (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- –ö–æ—Ä–∑–∏–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (MySQL) –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

